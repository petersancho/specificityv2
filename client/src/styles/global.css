@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Noto+Serif:wght@400;600;700&family=GFS+Didot&family=Caveat:wght@400;600&display=swap");

:root {
  color-scheme: light;
  /* Roslyn palette (semantic) */
  --sp-porcelain: var(--ui-porcelain);
  --sp-uiGrey: color-mix(in srgb, var(--ui-black) 8%, var(--ui-white));
  --sp-divider: color-mix(in srgb, var(--ui-black) 18%, var(--ui-white));
  --sp-ink: var(--ui-ink);
  --sp-muted: color-mix(in srgb, var(--ui-black) 55%, transparent);
  --sp-cyan: var(--semantic-data);
  --sp-pink: var(--semantic-logic);
  --sp-yellow: var(--semantic-numeric);
  --sp-purple: var(--semantic-logic);
  --sp-orange: var(--feedback-warning);

  /* CMYK tri-color palette (semantic) */
  --cmyk-cyan: var(--semantic-data);
  --cmyk-magenta: var(--semantic-logic);
  --cmyk-yellow: var(--semantic-numeric);
  --cmyk-black: var(--ui-black);

  /* Product accent colors (semantic) */
  --roslyn-accent: var(--semantic-data);
  --numerica-accent: var(--semantic-logic);
  --lingua-accent-cyan: var(--semantic-data);
  --lingua-accent-magenta: var(--semantic-logic);
  --lingua-accent-yellow: var(--semantic-numeric);

  --roslyn-industrial-warm-grey: color-mix(in srgb, var(--ui-black) 35%, var(--ui-white));
  --roslyn-instrument-cream: var(--sp-porcelain);
  --roslyn-soft-porcelain: var(--sp-porcelain);
  --roslyn-calibration-grey: var(--sp-uiGrey);
  --roslyn-machined-grey: var(--sp-divider);
  --roslyn-graphite-ink: var(--sp-ink);
  --roslyn-signal-orange: var(--sp-orange);
  --roslyn-cream: var(--sp-porcelain);

  /* Ink scale */
  --ink-1000: var(--sp-ink);
  --ink-900: color-mix(in srgb, var(--ui-black) 90%, var(--ui-white));
  --ink-700: color-mix(in srgb, var(--ui-black) 70%, var(--ui-white));
  --ink-500: color-mix(in srgb, var(--ui-black) 55%, var(--ui-white));

  /* Fog scale */
  --fog-100: var(--roslyn-soft-porcelain);
  --fog-150: var(--roslyn-instrument-cream);
  --fog-200: var(--roslyn-calibration-grey);
  --fog-300: var(--roslyn-machined-grey);
  --fog-400: var(--roslyn-industrial-warm-grey);
  --fog-500: color-mix(
    in srgb,
    var(--roslyn-industrial-warm-grey) 85%,
    var(--roslyn-graphite-ink)
  );

  /* Functional colors (feedback) */
  --state-error: var(--feedback-error);
  --state-warning: var(--feedback-warning);
  --state-success: var(--feedback-success);
  --state-info: var(--semantic-data);

  --accent-primary: var(--ui-black);
  --accent-signal: var(--feedback-warning);

  /* Semantic tokens */
  --bg: var(--ui-white);
  --fg: var(--ui-black);
  --muted: color-mix(in srgb, var(--ui-black) 45%, transparent);
  --muted-strong: color-mix(in srgb, var(--ui-black) 65%, transparent);
  --border: var(--ui-black);
  --border-subtle: color-mix(in srgb, var(--ui-black) 35%, transparent);
  --card-bg: var(--ui-white);
  --card-hover-bg: color-mix(in srgb, var(--ui-black) 6%, var(--ui-white));
  --surface: var(--ui-white);
  --surface-strong: var(--ui-white);
  --surface-soft: var(--ui-white);
  --accent: var(--ui-black);
  --accent-highlight: var(--ui-black);
  --accent-orange-soft: color-mix(in srgb, var(--ui-black) 15%, transparent);
  --accent-ring: color-mix(in srgb, var(--ui-black) 25%, transparent);
  --accent-muted: color-mix(in srgb, var(--ui-black) 35%, transparent);
  --color-canvas: var(--ui-white);
  --color-grid-line: color-mix(in srgb, var(--ui-black) 20%, transparent);
  --color-grid-dot: color-mix(in srgb, var(--ui-black) 18%, transparent);
  --color-grid-dot-soft: color-mix(in srgb, var(--ui-black) 10%, transparent);
  --canvas-grid-size: 84px;
  --canvas-grid-dot: var(--color-grid-dot);
  --canvas-grid-dot-soft: var(--color-grid-dot-soft);

  /* Typography */
  --font-primary: "Montreal Neue", "Space Grotesk", "SF Pro Text", -apple-system, sans-serif;
  --font-display: "Montreal Neue", "Space Grotesk", sans-serif;
  --font-mono: "JetBrains Mono", "SF Mono", "Consolas", monospace;
  --font-body: var(--font-primary);
  --font-title: var(--font-display);
  --font-title-weight: 600;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --text-2xs: 9px;
  --text-xs: 10px;
  --text-sm: 11px;
  --text-base: 13px;
  --text-md: 14px;
  --text-lg: 16px;
  --text-xl: 20px;
  --letter-spacing-tight: -0.01em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.04em;
  --letter-spacing-caps: 0.12em;

  /* Layout */
  --max-w: 1600px;
  --radius: 4px;
  --radius-sm: 2px;
  --radius-lg: 6px;
  --radius-node: 4px;
  --radius-pill: 4px;
  --gap: clamp(12px, 2vw, 24px);
  --pad: clamp(12px, 2vw, 24px);

  /* Motion */
  --easing: cubic-bezier(0.2, 0.8, 0.2, 1);
  --fast: 120ms;
  --norm: 200ms;
  --slow: 360ms;

  /* Borders */
  --border-section: 3px solid var(--ink-900);
  --border-panel: 2px solid var(--ink-900);
  --border-input: 1px solid var(--fog-300);
  --border-focus: 2px solid var(--ink-1000);

  /* Shadows - Black Opaque Drop Shadows (No Blur) */
  --shadow-2xs: 0 2px 0 var(--ui-black);
  --shadow-xs: 0 3px 0 var(--ui-black);
  --shadow-sm: 0 4px 0 var(--ui-black);
  --shadow-md: 0 6px 0 var(--ui-black);
  --shadow-md-up: 0 -6px 0 var(--ui-black);
  --shadow-node: 0 4px 0 var(--ui-black);
  --shadow-lg: 0 8px 0 var(--ui-black);
  --shadow-xl: 0 12px 0 var(--ui-black);
  --shadow-sm-hover: 0 6px 0 var(--ui-black);
  --shadow-md-hover: 0 8px 0 var(--ui-black);
  --shadow-node-hover: 0 6px 0 var(--ui-black);
  --shadow-sm-pressed: 0 1px 0 var(--ui-black);
  --shadow-md-pressed: 0 2px 0 var(--ui-black);
  --shadow-node-pressed: 0 2px 0 var(--ui-black);

  /* Node validation */
  --node-error-bg: color-mix(in srgb, var(--feedback-error) 15%, transparent);
  --node-error-border: var(--state-error);
  --node-error-overlay: color-mix(in srgb, var(--ui-black) 30%, transparent);

  /* Eto icon colors */
  --eto-icon-primary: var(--ui-ink);
  --eto-icon-secondary: color-mix(in srgb, var(--ui-black) 45%, var(--ui-white));
  --eto-icon-accent: var(--semantic-numeric);
  --eto-icon-success: var(--feedback-success);
  --eto-icon-warning: var(--feedback-warning);
  --eto-icon-error: var(--state-error);
  --eto-icon-info: var(--semantic-data);

  --font-sans: var(--font-body);
  --font-serif: var(--font-title);
  --color-bg: var(--bg);
  --color-surface: var(--surface);
  --color-surface-muted: var(--surface-soft);
  --color-border: var(--border);
  --color-text: var(--fg);
  --color-muted: var(--muted);
  --color-accent: var(--accent);
  --color-accent-soft: var(--accent-orange-soft);
  --color-accent-muted: var(--accent-muted);
  --color-on-accent: var(--fog-100);
  --color-topbar-bg: var(--ui-white);
  --color-topbar-dot-strong: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 45%,
    transparent
  );
  --color-topbar-dot-soft: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 25%,
    transparent
  );
  --color-topbar-border: var(--border);
  --color-glass: color-mix(in srgb, var(--ui-white) 92%, transparent);
  --color-glass-strong: color-mix(in srgb, var(--ui-white) 96%, transparent);
  --color-overlay: color-mix(in srgb, var(--ui-white) 92%, transparent);
  --color-workspace-gradient-start: var(--ui-white);
  --color-workspace-gradient-end: var(--ui-white);
  --color-footer-bg: var(--ui-white);
  --color-footer-border: color-mix(in srgb, var(--ui-black) 20%, transparent);
  --color-footer-grid-strong: var(--color-grid-dot);
  --color-footer-grid-soft: var(--color-grid-dot-soft);
  --color-footer-highlight: color-mix(in srgb, var(--ui-black) 60%, transparent);
  --color-accent-ring: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 35%,
    transparent
  );
  --color-accent-ring-strong: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 45%,
    transparent
  );
  --color-accent-spot: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 55%,
    transparent
  );
  --color-edge: color-mix(in srgb, var(--roslyn-graphite-ink) 60%, transparent);
  --color-handle-dot-strong: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 90%,
    transparent
  );
  --color-handle-dot-soft: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 60%,
    transparent
  );
  --color-handle-stroke: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 70%,
    transparent
  );
  --radius-container: var(--radius-lg);
  --radius-panel: var(--radius-lg);
  --radius-card: var(--radius);
  --radius-input: var(--radius-sm);
  --shadow-panel: var(--shadow-xl);
  --shadow-panel-active: 0 20px 0 var(--ui-black);
  --shadow-panel-outline: 0 0 0 2px color-mix(in srgb, var(--ui-black) 15%, transparent);
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 32px;
  --transition-fast: var(--fast) var(--easing);
  --transition-base: var(--norm) var(--easing);
  --topbar-height: 44px;
}

:root[data-theme="dark"] {
  color-scheme: dark;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  min-height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-sans);
  background: var(--color-bg);
  color: var(--color-text);
  line-height: 1.4;
  overflow-x: hidden;
  overflow-y: auto;
}

button,
input,
select,
textarea {
  font-family: inherit;
  color: inherit;
}

input,
select,
textarea {
  border-radius: var(--radius-input);
  border: 1px solid var(--color-border);
  padding: 8px 12px;
  background: var(--color-surface);
  color: var(--color-text);
  transition: border-color var(--transition-fast),
    box-shadow var(--transition-fast), transform var(--transition-fast);
}

input::placeholder,
textarea::placeholder {
  color: var(--color-muted);
}

button {
  cursor: pointer;
  border: 1px solid transparent;
  background: transparent;
  transition: transform var(--transition-fast),
    box-shadow var(--transition-fast);
}

button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 2px var(--color-accent-ring);
}

button:disabled,
input:disabled,
select:disabled,
textarea:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.dashboard-canvas {
  background-color: var(--color-canvas);
  background-image: radial-gradient(var(--canvas-grid-dot) 1px, transparent 1px),
    radial-gradient(var(--canvas-grid-dot-soft) 1px, transparent 1px);
  background-size: var(--canvas-grid-size) var(--canvas-grid-size),
    calc(var(--canvas-grid-size) / 2) calc(var(--canvas-grid-size) / 2);
  background-position: 0 0,
    calc(var(--canvas-grid-size) / 2) calc(var(--canvas-grid-size) / 2);
}

.canvas-top-bar {
  --node-library-bg: var(--fog-150);
  --node-library-border: var(--fog-300);
  --node-library-border-strong: var(--ink-900);
  --node-library-border-highlight: var(--fog-200);
  --canvas-topbar-graphite: var(--ink-1000);
  --canvas-topbar-charcoal: var(--ink-700);
  --canvas-topbar-light: var(--fog-100);
}

.node-library {
  --node-keycap-size: 36px;
}

.top-control-bar,
.component-hub {
  --ui-surface: var(--fog-150);
  --ui-surface-2: var(--fog-200);
  --ui-stroke: var(--border-subtle);
  --ui-ink: var(--ink-1000);
  --ui-ink-2: var(--ink-500);
  --ui-accent: var(--ink-1000);
}

.component-hub {
  --ui-texture-bg: var(--fog-150);
  --ui-texture-dot: color-mix(in srgb, var(--ui-black) 8%, transparent);
  --ui-texture-size: 14px;
}

.sticky-note {
  --note-body: var(--fog-150);
  --note-header: var(--fog-200);
  --note-panel: var(--fog-100);
  --note-border: var(--ink-900);
  --note-border-inner: var(--fog-300);
  --note-shadow: var(--ui-black);
  --note-text: var(--ink-1000);
  --note-muted: var(--ink-500);
  --note-muted-strong: var(--ink-700);
  --note-accent: var(--ink-1000);
  --surface: var(--note-body);
  --surface-strong: var(--note-header);
  --surface-soft: var(--note-panel);
  --border: var(--note-border);
  --border-subtle: var(--note-border-inner);
  --fg: var(--note-text);
  --muted: var(--note-muted);
  --muted-strong: var(--note-muted-strong);
  --accent: var(--note-accent);
  --accent-orange: var(--note-accent);
  --accent-orange-soft: color-mix(in srgb, var(--ui-black) 20%, transparent);
  --accent-muted: var(--note-muted);
  --bg: var(--note-body);
}

.canvas-title__logo {
  color: var(--ink-1000);
}

.canvas-title__logo-text {
  font-family: "Montreal Neue", "Space Grotesk";
  font-weight: 600;
  font-size: 13px;
  letter-spacing: 0.32em;
}

.sort-logo text {
  font-family: "Montreal Neue", "Space Grotesk";
  font-weight: 700;
  font-size: 72px;
  letter-spacing: -0.04em;
  fill: var(--ink-1000);
}
