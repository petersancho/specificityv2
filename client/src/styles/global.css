@import url("https://fonts.cdnfonts.com/css/montreal-neue");
@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap");

:root {
  color-scheme: light;
  /* Roslyn palette */
  --roslyn-industrial-warm-grey: #8e8a84;
  --roslyn-instrument-cream: #f6f2eb;
  --roslyn-soft-porcelain: #fbfaf8;
  --roslyn-calibration-grey: #e2e0dc;
  --roslyn-machined-grey: #b7b4ae;
  --roslyn-graphite-ink: #2e2e2c;
  --roslyn-signal-orange: #d28b5c;

  /* Ink scale */
  --ink-1000: #050505;
  --ink-900: #111111;
  --ink-700: #1c1c1c;
  --ink-500: #3c3c3c;

  /* Fog scale */
  --fog-100: var(--roslyn-soft-porcelain);
  --fog-150: var(--roslyn-instrument-cream);
  --fog-200: var(--roslyn-calibration-grey);
  --fog-300: var(--roslyn-machined-grey);
  --fog-400: var(--roslyn-industrial-warm-grey);
  --fog-500: color-mix(
    in srgb,
    var(--roslyn-industrial-warm-grey) 85%,
    var(--roslyn-graphite-ink)
  );

  /* Functional colors */
  --state-error: #dc3545;
  --state-warning: #e6a23c;
  --state-success: #67c23a;
  --state-info: #909399;

  --accent-primary: var(--ink-1000);
  --accent-signal: var(--roslyn-signal-orange);

  /* Semantic tokens */
  --bg: var(--roslyn-soft-porcelain);
  --fg: var(--roslyn-graphite-ink);
  --muted: var(--roslyn-machined-grey);
  --muted-strong: var(--roslyn-industrial-warm-grey);
  --border: var(--roslyn-calibration-grey);
  --border-subtle: var(--roslyn-calibration-grey);
  --card-bg: var(--roslyn-instrument-cream);
  --card-hover-bg: var(--roslyn-soft-porcelain);
  --surface: var(--roslyn-instrument-cream);
  --surface-strong: var(--roslyn-calibration-grey);
  --surface-soft: var(--roslyn-soft-porcelain);
  --accent: var(--roslyn-graphite-ink);
  --accent-highlight: var(--roslyn-signal-orange);
  --accent-orange-soft: color-mix(
    in srgb,
    var(--roslyn-signal-orange) 25%,
    transparent
  );
  --accent-ring: color-mix(in srgb, var(--roslyn-graphite-ink) 25%, transparent);
  --accent-muted: var(--roslyn-machined-grey);
  --color-canvas: var(--roslyn-soft-porcelain);
  --color-grid-line: var(--roslyn-calibration-grey);
  --color-grid-dot: rgba(46, 46, 44, 0.12);
  --color-grid-dot-soft: rgba(46, 46, 44, 0.06);
  --canvas-grid-size: 84px;
  --canvas-grid-dot: var(--color-grid-dot);
  --canvas-grid-dot-soft: var(--color-grid-dot-soft);

  /* Typography */
  --font-primary: "Space Grotesk", "SF Pro Text", -apple-system, sans-serif;
  --font-display: "Montreal Neue", "Space Grotesk", sans-serif;
  --font-mono: "JetBrains Mono", "SF Mono", "Consolas", monospace;
  --font-body: var(--font-primary);
  --font-title: var(--font-display);
  --font-title-weight: 600;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --text-2xs: 9px;
  --text-xs: 10px;
  --text-sm: 11px;
  --text-base: 13px;
  --text-md: 14px;
  --text-lg: 16px;
  --text-xl: 20px;
  --letter-spacing-tight: -0.01em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.04em;
  --letter-spacing-caps: 0.12em;

  /* Layout */
  --max-w: 1600px;
  --radius: 10px;
  --radius-sm: 6px;
  --radius-lg: 16px;
  --radius-node: 8px;
  --gap: clamp(12px, 2vw, 24px);
  --pad: clamp(12px, 2vw, 24px);

  /* Motion */
  --easing: cubic-bezier(0.2, 0.8, 0.2, 1);
  --fast: 120ms;
  --norm: 200ms;
  --slow: 360ms;

  /* Borders */
  --border-section: 3px solid var(--ink-900);
  --border-panel: 2px solid var(--ink-900);
  --border-input: 1px solid var(--fog-300);
  --border-focus: 2px solid var(--ink-1000);

  /* Shadows */
  --shadow-2xs: 0 2px 0 #000000;
  --shadow-xs: 0 3px 0 #000000;
  --shadow-sm: 0 4px 0 #000000;
  --shadow-md: 0 6px 0 #000000;
  --shadow-node: 0 8px 0 #000000;
  --shadow-lg: 0 12px 0 #000000;
  --shadow-xl: 0 16px 0 #000000;
  --shadow-sm-hover: 0 6px 0 #000000;
  --shadow-md-hover: 0 8px 0 #000000;
  --shadow-node-hover: 0 12px 0 #000000;
  --shadow-sm-pressed: 0 1px 0 #000000;
  --shadow-md-pressed: 0 2px 0 #000000;
  --shadow-node-pressed: 0 4px 0 #000000;

  /* Node validation */
  --node-error-bg: rgba(220, 53, 69, 0.15);
  --node-error-border: var(--state-error);
  --node-error-overlay: rgba(128, 128, 128, 0.3);

  /* Eto icon colors */
  --eto-icon-primary: var(--roslyn-graphite-ink);
  --eto-icon-secondary: var(--roslyn-industrial-warm-grey);
  --eto-icon-accent: var(--roslyn-signal-orange);
  --eto-icon-success: #4caf50;
  --eto-icon-warning: #ff9800;
  --eto-icon-error: var(--state-error);
  --eto-icon-info: #2196f3;

  --font-sans: var(--font-body);
  --font-serif: var(--font-title);
  --color-bg: var(--bg);
  --color-surface: var(--surface);
  --color-surface-muted: var(--surface-soft);
  --color-border: var(--border);
  --color-text: var(--fg);
  --color-muted: var(--muted);
  --color-accent: var(--accent);
  --color-accent-soft: var(--accent-orange-soft);
  --color-accent-muted: var(--accent-muted);
  --color-on-accent: var(--fog-100);
  --color-topbar-bg: var(--surface-strong);
  --color-topbar-dot-strong: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 45%,
    transparent
  );
  --color-topbar-dot-soft: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 25%,
    transparent
  );
  --color-topbar-border: var(--border);
  --color-glass: color-mix(in srgb, var(--surface) 85%, transparent);
  --color-glass-strong: color-mix(
    in srgb,
    var(--surface-strong) 90%,
    transparent
  );
  --color-overlay: color-mix(in srgb, var(--bg) 92%, transparent);
  --color-workspace-gradient-start: var(--roslyn-soft-porcelain);
  --color-workspace-gradient-end: var(--roslyn-calibration-grey);
  --color-footer-bg: color-mix(in srgb, var(--surface) 92%, transparent);
  --color-footer-border: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 15%,
    transparent
  );
  --color-footer-grid-strong: var(--color-grid-dot);
  --color-footer-grid-soft: var(--color-grid-dot-soft);
  --color-footer-highlight: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 60%,
    transparent
  );
  --color-accent-ring: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 35%,
    transparent
  );
  --color-accent-ring-strong: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 45%,
    transparent
  );
  --color-accent-spot: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 55%,
    transparent
  );
  --color-edge: color-mix(in srgb, var(--roslyn-graphite-ink) 60%, transparent);
  --color-handle-dot-strong: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 90%,
    transparent
  );
  --color-handle-dot-soft: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 60%,
    transparent
  );
  --color-handle-stroke: color-mix(
    in srgb,
    var(--roslyn-graphite-ink) 70%,
    transparent
  );
  --radius-container: var(--radius-lg);
  --radius-panel: calc(var(--radius-lg) + 8px);
  --radius-card: var(--radius);
  --radius-input: var(--radius-sm);
  --shadow-panel: var(--shadow-xl);
  --shadow-panel-active: 0 20px 0 #000000;
  --shadow-panel-outline: 0 0 0 2px rgba(0, 0, 0, 0.15);
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 32px;
  --transition-fast: var(--fast) var(--easing);
  --transition-base: var(--norm) var(--easing);
  --topbar-height: 96px;
}

:root[data-theme="dark"] {
  color-scheme: dark;
  --bg: var(--ink-1000);
  --fg: var(--fog-100);
  --muted: var(--fog-400);
  --muted-strong: var(--fog-300);
  --border: var(--ink-700);
  --border-subtle: var(--ink-900);
  --card-bg: var(--ink-900);
  --card-hover-bg: var(--ink-700);
  --surface: var(--ink-900);
  --surface-strong: var(--ink-700);
  --surface-soft: var(--ink-700);
  --color-topbar-bg: var(--ink-900);
  --color-topbar-border: var(--ink-700);
  --color-grid-dot: rgba(253, 253, 252, 0.2);
  --color-grid-dot-soft: rgba(253, 253, 252, 0.08);
  --color-footer-bg: color-mix(in srgb, var(--ink-900) 92%, transparent);
  --color-footer-border: rgba(253, 253, 252, 0.12);
  --color-footer-grid-strong: rgba(253, 253, 252, 0.15);
  --color-footer-grid-soft: rgba(253, 253, 252, 0.05);
  --color-footer-highlight: rgba(253, 253, 252, 0.65);
  --color-accent-ring: rgba(253, 253, 252, 0.3);
  --color-accent-ring-strong: rgba(253, 253, 252, 0.4);
  --color-accent-spot: rgba(253, 253, 252, 0.5);
  --color-edge: rgba(253, 253, 252, 0.7);
  --color-handle-dot-strong: rgba(253, 253, 252, 0.9);
  --color-handle-dot-soft: rgba(253, 253, 252, 0.7);
  --color-handle-stroke: rgba(253, 253, 252, 0.6);
  --shadow-xs: 0 1px 0 rgba(0, 0, 0, 0.6);
  --shadow-sm: 0 6px 0 rgba(0, 0, 0, 0.8);
  --shadow-panel: 0 16px 0 rgba(0, 0, 0, 0.85);
  --shadow-panel-active: 0 20px 0 rgba(0, 0, 0, 0.92);
  --shadow-panel-outline: 0 0 0 2px rgba(253, 253, 252, 0.15);
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  min-height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-sans);
  background: var(--color-bg);
  color: var(--color-text);
  line-height: 1.4;
  overflow-x: hidden;
  overflow-y: auto;
}

button,
input,
select,
textarea {
  font-family: inherit;
  color: inherit;
}

input,
select,
textarea {
  border-radius: var(--radius-input);
  border: 1px solid var(--color-border);
  padding: 8px 12px;
  background: var(--color-surface);
  color: var(--color-text);
  transition: border-color var(--transition-fast),
    box-shadow var(--transition-fast), transform var(--transition-fast);
}

input::placeholder,
textarea::placeholder {
  color: var(--color-muted);
}

button {
  cursor: pointer;
  border: 1px solid transparent;
  background: transparent;
  transition: transform var(--transition-fast),
    box-shadow var(--transition-fast);
}

button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 2px var(--color-accent-ring);
}

button:disabled,
input:disabled,
select:disabled,
textarea:disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.dashboard-canvas {
  background-color: var(--color-canvas);
  background-image: radial-gradient(var(--canvas-grid-dot) 1px, transparent 1px),
    radial-gradient(var(--canvas-grid-dot-soft) 1px, transparent 1px);
  background-size: var(--canvas-grid-size) var(--canvas-grid-size),
    calc(var(--canvas-grid-size) / 2) calc(var(--canvas-grid-size) / 2);
  background-position: 0 0,
    calc(var(--canvas-grid-size) / 2) calc(var(--canvas-grid-size) / 2);
}

.canvas-top-bar {
  --node-library-bg: var(--fog-150);
  --node-library-border: var(--fog-300);
  --node-library-border-strong: var(--ink-900);
  --node-library-border-highlight: var(--fog-200);
  --canvas-topbar-graphite: var(--ink-1000);
  --canvas-topbar-charcoal: var(--ink-700);
  --canvas-topbar-light: var(--fog-100);
}

.node-library {
  --node-keycap-size: 36px;
}

.top-control-bar,
.component-hub {
  --ui-surface: var(--fog-150);
  --ui-surface-2: var(--fog-200);
  --ui-stroke: var(--border-subtle);
  --ui-ink: var(--ink-1000);
  --ui-ink-2: var(--ink-500);
  --ui-accent: var(--ink-1000);
}

.component-hub {
  --ui-texture-bg: var(--fog-150);
  --ui-texture-dot: rgba(5, 5, 5, 0.08);
  --ui-texture-size: 14px;
}

.sticky-note {
  --note-body: var(--fog-150);
  --note-header: var(--fog-200);
  --note-panel: var(--fog-100);
  --note-border: var(--ink-900);
  --note-border-inner: var(--fog-300);
  --note-shadow: #050505;
  --note-text: var(--ink-1000);
  --note-muted: var(--ink-500);
  --note-muted-strong: var(--ink-700);
  --note-accent: var(--ink-1000);
  --surface: var(--note-body);
  --surface-strong: var(--note-header);
  --surface-soft: var(--note-panel);
  --border: var(--note-border);
  --border-subtle: var(--note-border-inner);
  --fg: var(--note-text);
  --muted: var(--note-muted);
  --muted-strong: var(--note-muted-strong);
  --accent: var(--note-accent);
  --accent-orange: var(--note-accent);
  --accent-orange-soft: rgba(5, 5, 5, 0.2);
  --accent-muted: var(--note-muted);
  --bg: var(--note-body);
}

.canvas-title__logo {
  color: var(--ink-1000);
}

.canvas-title__logo-text {
  font-family: "Montreal Neue", "Space Grotesk";
  font-weight: 600;
  font-size: 13px;
  letter-spacing: 0.32em;
}

.sort-logo text {
  font-family: "Montreal Neue", "Space Grotesk";
  font-weight: 700;
  font-size: 72px;
  letter-spacing: -0.04em;
  fill: var(--ink-1000);
}
