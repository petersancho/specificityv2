# Numerica Manual

Updated: 2026-01-29

This manual is the entry point for learning Numerica from zero. It is designed to be complete and self‑contained, with links to deep reference material and solver workflows.

## Table of Contents

1. Getting Started
2. Core Concepts
3. Node Library Reference
4. Solvers & Optimization
5. Interchange (Import/Export)
6. Rendering & WebGL Previews
7. Troubleshooting & Pitfalls
8. Glossary
9. Documentation Maintenance

---

## 1) Getting Started

### First Graph (5 minutes)

Goal: make a parametric box and preview it.

1. Open Numerica in the right panel.
2. Use the search bar to add these nodes:
   - `Number`
   - `Number`
   - `Box` (primitive node)
   - `Geometry Viewer`
3. Wire nodes:

```
Number (X) → Box
Number (Y) → Box
Box → Geometry Viewer
```

4. Click the number values to edit; the Box updates immediately.
5. Pan with right‑drag or Space‑drag. Zoom with mouse wheel.

### Core UI gestures

- Left‑drag: move nodes
- Right‑drag: pan
- Mouse wheel / pinch: zoom
- Space + drag: pan (trackpad‑friendly)
- Delete/Backspace: delete selected nodes/edges
- Ctrl/Cmd + A: select all
- F: frame selection
- Shift + F: frame all
- G: toggle grid snap
- ?: toggle on‑screen shortcut overlay

### Node creation

- Search in the header search bar and press Enter to drop the top result.
- Click any category in the left palette and then click a node to place it.
- Drag a node from the palette onto the canvas.

---

## 2) Core Concepts

Numerica is an immediate‑mode, canvas‑rendered node system. Every node computes outputs from inputs + parameters and the system caches results until upstream values change.

### Data Flow

- **Inputs**: values coming in through ports (geometry, numbers, vectors, lists, goals, etc.)
- **Parameters**: per‑node settings stored inside the node
- **Outputs**: computed values that feed downstream nodes

### Evaluation Model (mental model)

```
Upstream outputs → Node inputs + parameters → Compute → Outputs
```

- Evaluation is **lazy**: nodes compute only when their outputs are requested.
- **Dirty flags** invalidate downstream nodes when parameters or inputs change.
- Node evaluation is deterministic (no hidden state), unless explicitly tied to randomness.

### Type System (port types)

- `number`, `boolean`, `string`
- `vector` (x, y, z tuple)
- `geometry` (references geometry in Roslyn)
- `goal`, `solverResult`, `genomeSpec`, `phenotypeSpec`, `fitnessSpec`
- `any` (generic; accepts mixed values)

### Lists and Collections

Many nodes accept lists (`List Create`, `List Slice`, `List Flatten`). Lists can be nested. Pay attention to list depth: a list of vectors is different from a list of lists of vectors.

### Geometry References

Geometry that lives in Roslyn can be referenced in Numerica using `Geometry Reference`, then wired to geometry‑consuming nodes (voxelization, meshing, analysis).

---

## 3) Node Library Reference

See `docs/numerica_node_library.md` for **every node** documented using the canonical template.

Each node section includes:
- Inputs (type, defaults, constraints)
- Outputs (type, semantics)
- Parameters (defaults, ranges)
- Example wiring
- Common mistakes

---

## 4) Solvers & Optimization

Solvers are advanced, iterative nodes that use **Goal** nodes to define objectives.

- Physics Solver + Physics Goals (stiffness, load, volume, anchor)
- Biological Solver + Evolution Goals (genome, phenotype, fitness)
- Chemistry Solver + Chemistry Goals (material blending, stiffness, transparency, heat)
- Voxel Solver + Voxel utilities

See `docs/numerica_solvers_guide.md` for complete workflows and examples.

---

## 5) Interchange (Import/Export)

Import and export workflows are covered in `docs/numerica_interchange.md`, including STL import/export and mesh conversion paths.

---

## 6) Rendering & WebGL Previews

Numerica renders previews on a canvas with consistent styling across Roslyn and Numerica. See `docs/numerica_rendering.md` for preview rules, selection behavior, and gumball usage.

---

## 7) Troubleshooting & Pitfalls

See `docs/numerica_troubleshooting.md` for common issues, fixes, and diagnostic tips.

---

## 8) Glossary

See `docs/numerica_glossary.md` for definitions of key terms (genome, phenotype, voxel, field, solver, etc.).

---

## 9) Documentation Maintenance

- Node docs are generated by `tools/docgen.cjs` and stored in `docs/numerica_node_library.md`.
- Command docs are generated by `tools/docgen.cjs` and stored in `docs/numerica_command_reference.md`.
- Regenerate after changing node or command registries.

